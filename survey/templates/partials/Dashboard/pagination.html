{% load i18n %}
<nav aria-label="Table navigation"
     id="pagination-controls"
     hx-swap-oob="true">
    <div class="flex flex-col justify-center items-center p-4 bg-gray-50 gap-4">
        <ul class="inline-flex items-stretch -space-x-px">
            <li>
                <button {% if not page.has_previous %}disabled{% endif %}
                        {% if page.has_previous %}
                        hx-get="{% url 'Dashboard_Page' page.number|add:-1 %}{% if query %}?search={{ query }}{% endif %}"
                        hx-push-url="true"
                        hx-target=".survey-table-body"
                        hx-swap="innerHTML"
                        {% endif %}
                        class="flex items-center justify-center h-full py-1.5 px-3 ms-0 text-gray-500 bg-white rounded-s-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 {% if not page.has_previous %}cursor-not-allowed {% else %} cursor-pointer {% endif %}">
                    <span class="sr-only">Previous</span>
                    <svg class="w-5 h-5 rtl:rotate-180"
                         aria-hidden="true"
                         fill="currentColor"
                         viewbox="0 0 20 20"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                    </svg>
                </button>
            </li>
            {% for page_number in elided_page_range %}
              {% if page_number == page.paginator.ELLIPSIS %}
              <li>
                <span class="flex items-center justify-center px-3 h-full leading-tight text-gray-500 bg-white border border-gray-300">...</span>
              </li>
              {% else %}
            <li>
                <button
                    hx-get="{% url 'Dashboard_Page' page_number %}{% if query %}?search={{ query }}{% endif %}"
                    hx-push-url="true"
                    hx-target=".survey-table-body"
                    hx-swap="innerHTML"
                    class="flex items-center justify-center px-3 h-full leading-tight border border-gray-300 {% if page_number == page.number %} bg-primary text-primary-content cursor-not-allowed {% else %} bg-white text-gray-500 hover:bg-gray-100 hover:text-gray-700 cursor-pointer {% endif %}">
                    {{ page_number }}
                </button>
            </li>
              {% endif %}
            {% endfor %}
            <li>
                <button {% if not page.has_next %}disabled{% endif %}
                        {% if page.has_next %}
                        hx-get="{% url 'Dashboard_Page' page.number|add:1 %}{% if query %}?search={{ query }}{% endif %}"
                        hx-push-url="true"
                        hx-target=".survey-table-body"
                        hx-swap="innerHTML"
                        {% endif %}
                        class="flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-e-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 {% if not page.has_next %}cursor-not-allowed {% else %} cursor-pointer {% endif %}">
                    <span class="sr-only">Next</span>
                    <svg class="w-5 h-5 rtl:rotate-180"
                         aria-hidden="true"
                         fill="currentColor"
                         viewbox="0 0 20 20"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                    </svg>
                </button>
            </li>
        </ul>
        <div class="mt-2 px-4 py-1.5 text-xs font-medium text-gray-600 bg-white rounded-full border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200">
            {% trans "Showing" %} <span class="text-indigo-600 font-bold">{{ page.start_index }}</span> - <span class="text-indigo-600 font-bold">{{ page.end_index }}</span> {% trans "of" %} <span class="text-gray-900 font-bold">{{ page.paginator.count }}</span> {% trans "surveys"%}
        </div>
    </div>
</nav>
